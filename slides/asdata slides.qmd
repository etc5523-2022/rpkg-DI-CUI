---
title: "asdata Package"
author: "Di Cui"
format: revealjs
editor: visual
---

## Introduction asdata Package

## asdata Package

The asdata Package is to give a good overview of national alcohol consumption and servings of beer, spirit and wine, and make it easy to compare alcohol consumption and servings from country to country.

::: columns
::: {.column width="50%"}
The goal of asdata Packkge is to :

-   Plotting alcohol consumption and servings

-   Exploring specific numerical differences

-   Run global alcohol consumption shiny app
:::

::: {.column width="50%"}
![Image Source: Wikipedia](Common_alcoholic_beverages.jpg){alt="Image Source: Wikipedia" fig-align="left" width="203"}
:::

To know more about asdata Package see <https://etc5523-2022.github.io/rpkg-DI-CUI/>.
:::

## Installation

You can install the development version of asdata from \[GitHub\](https://github.com/) with:

```{r}
# install.packages("devtools")

devtools::install_github("etc5523-2022/rpkg-DI-CUI")
```

```{r}
# load asdata package

library(asdata)
```

## Build-in dataset

1.  **alcohol**

This dataset contains 193 countries with their alcohol consumption and servings. `?asdata::alcohol`

| Variable                     | Description                                                                                                                                                    |
|--------------------------|----------------------------------------------|
| country                      | country name                                                                                                                                                   |
| beer_servings                | beer servings of the country                                                                                                                                   |
| spirit_servings              | spirit servings of the country                                                                                                                                 |
| wine_servings                | wine servings of the country                                                                                                                                   |
| total_litres_of_pure_alcohol | the total amount of alcohol consumed per person over a calendar year, in litres of pure alcohol, adjusted for tourist consumption. (The World Bank Group,2022) |

2.  **alcohol_map**

Combine alcohol dataset with worldwide map data. This dataset contains world map data and data in alcohol dataset. `?asdata::alcohol_map`.

## Functions

| Function                      | Description                                       |
|----------------------------|--------------------------------------------|
| `plotly_litres()`             | Mapping global alcohol consumption                |
| `plot_servings()`             | Mapping global servings of beer, spirit and wine  |
| `extract_country_servings()`  | Extract country servings                          |
| `calculate_country_alcohol()` | Difference between alcohol values and the average |
| `run_app()`                   | Run global alcohol shiny app                      |

## 1.plotly_litres(Litres)

`Litres`: Vector. The set range of total litres of pure alcohol.

If you want to map global alcohol consumption with total litres of pure alcohol in the range (0,10)

```{r}
plotly_litres(Litres = c(0,10))
```

## 2.plot_servings(type)

`type`: Character. The type of alcohol servings, one of "beer_servings", "spirit_servings" and "wine_servings".

If you want to map global beer servings.

```{r}
plot_servings(type = "beer_servings")
```

## 3.extract_country_servings(range, type)

`range`: Vector. The set alcohol servings range. `type`: Character. The type of alcohol servings, one of "beer_servings", "spirit_servings" and "wine_servings".

If you want to see countries with beer servings in the range (0,100) and sorted in descernding order.

```{r}
country_servings <- extract_country_servings(range = c(0,100), type = "beer_servings")
head(country_servings) # show top 6 rows
```

## 4.calculate_country_alcohol(name, type)

`name`: Character. Country name 'type': Character. The type of alcohol servings, one of "beer_servings", "spirit_servings" and "wine_servings".

If you want to calculate average beer servings in the range (0,100) and calculate difference between beer servings of each country with the average beer servings.

```{r}
# Combine with `extract_country_servings()` function
cal_beer <- calculate_country_alcohol(name = extract_country_servings(range = c(0,100), 
                                                                      type = "beer_servings")$country, 
                                      type = "beer_servings") 

cal_beer[[1]] # show mean

head(cal_beer[[2]]) # show diff of top 6 rows
```

## 5.run_app()

If you want to run global alcohol shiny app.

```{r}
run_app()
```
